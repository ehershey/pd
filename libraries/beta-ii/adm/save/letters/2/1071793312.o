#/daemon/letter.c
__Letter "magica for bards too#include <std.h>inherit SONGvoid create() {  ::create()  set_verses(({    \"Witch and warlock, shaman and mage\",    \"All are wizened and greater with age\",    \"But nary a one would have his tower\",    \"Without his source of magical power!\"  }))  set_auto(0)  set_type(\"other\")  set_song_name(\"aria di magica\")}int check_sing(object o) {  if (o->query_subclass() == \"bard\" && o->query_stats(\"intelligence\") >= 25      && o->query_skill(\"euphony\") >= 125)    return 1  return 0}void finish_song() {  object tp=query_caster()  object stone  euph=tp->query_skill(\"euphony\")  ent=tp->query_skill(\"entertainment\")  level=tp->query_level()    if (ent < 100) {    message(\"song\",\"Nothing happens.\",tp)    return  }    if (tp->query_mp() < 400) {    tp->set_mp(0)    message(\"song\",\"Nothing happens.\",tp)    return  }  stone=new(\"/path/to/manastone\")  stone->set_strength(euph*5 + ent*2 +    tp->query_stats(\"intelligence\")*20 + tp->query_mp())  if (stone->move(tp)) {    stone->move(environment(tp))    message(\"song\",\"A small stone appears on the ground.\",environment(tp))  }  else {    message(\"song\",\"A small stone appears in your hand.\",tp)    message(\"song\",\"A small stone appears in \"+tp->query_possessive()+\" hand.\",      environment(tp), tp)  }  tp->set_mp(0)}"
__Undeleted ({"amarael",})
