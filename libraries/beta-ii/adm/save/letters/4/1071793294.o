#/daemon/letter.c
__Letter "this idea is for bard toolullaby#include <std.h>inherit SONGvoid create() {  ::create()  set_verses(({    \"Ariel the queen of fae\",    \"Spreads her sleeping dust all day\",    \"And all the night her princes work\",    \"And in the dark her workers lurk\",    \"To make you dream of damp and murk\",    \"They laugh and dance when down you lay!\"  }))  set_auto(0)  set_type(\"bad\")  set_song_name(\"lullaby of sylphs\")}int check_sing(object o) {  if (o->query_subclass() == \"bard\" && o->query_skill(\"euphony\") >= 200)    return 1  return 0}void finish_song() {  object tp=query_caster()  object tgt=query_target()  int euph=tp->query_skill(\"euphony\")  int ent=tp->query_skill(\"entertainment\")    if ((tgt->query_stats(\"wisdom\")+tgt->query_stats(\"constitution\"))/2 > (euph+ent)/3) {    message(\"song\",\"Nothing happens.\",tp)    return  }  else {    tgt->set_rest_type(\"sleep\")    tgt->set_paralyzed(4+(euph-200/30),\"You feel too tired to move.\")    message(\"song\",\"You start to feel drowsy and fall asleep.\",tgt)    message(\"song\",tgt->query_cap_name()+\" slumps down and falls asleep.\",      environment(tgt), tgt)  }}"
__Undeleted ({"amarael",})
